<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج تسجيل أسر الأيتام</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1, h2, h3, h4 {
            color: #2c3e50;
        }
        .form-section {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="number"],
        input[type="date"],
        input[type="tel"],
        input[type="file"],
        select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            height: 100px;
        }
        .radio-group, .checkbox-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        button:hover {
            background-color: #2980b9;
        }
        .orphan-member {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .add-member-btn {
            background-color: #27ae60;
            margin-bottom: 20px;
        }
        .add-member-btn:hover {
            background-color: #219653;
        }
        .hidden {
            display: none;
        }
        .required:after {
            content: " *";
            color: red;
        }
        .file-preview {
            max-width: 200px;
            max-height: 200px;
            margin-top: 10px;
        }
        .attachment-item {
            margin-bottom: 15px;
            padding: 10px;
            border: 1px dashed #ccc;
            border-radius: 5px;
        }
        .health-details {
            background-color: #f0f8ff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div style="text-align: center; margin-bottom: 20px;">
        <img src="logo.png" alt="شعار الجمعية" style="max-width: 250px; height: auto; display: block; margin: 0 auto 10px;">
        <h1>جمعية معهد الأمل للأيتام - نموذج تسجيل بيانات الأيتام</h1>
    </div>

    <form id="orphanFamilyForm">
        <!-- بيانات الوصي الشرعي على الأيتام -->
        <div class="form-section">
            <h2>بيانات الوصي الشرعي على الأيتام (إلزامي)</h2>
            
            <div class="form-group">
                <label for="guardianName" class="required">اسم الوصي الرباعي</label>
                <input type="text" id="guardianName" name="guardianName" required>
            </div>
            
            <div class="form-group">
                <label for="guardianId" class="required">رقم هوية الوصي</label>
                <input type="text" id="guardianId" name="guardianId" required>
            </div>
            
            <div class="form-group">
                <label for="guardianIdPhoto" class="required">صورة هوية الوصي</label>
                <input type="file" id="guardianIdPhoto" name="guardianIdPhoto" accept="image/*" required>
                <div id="guardianIdPhotoPreview" class="file-preview"></div>
            </div>
            
            <div class="form-group">
                <label for="guardianDob" class="required">تاريخ ميلاد الوصي</label>
                <input type="date" id="guardianDob" name="guardianDob" required>
            </div>
            
            <div class="form-group">
                <label for="guardianRelation" class="required">صلة القرابة بالأيتام</label>
                <select id="guardianRelation" name="guardianRelation" required>
                    <option value="">اختر صلة القرابة</option>
                    <option value="أب">أب</option>
                    <option value="أخ">أخ</option>
                    <option value="جد">جد</option>
                    <option value="عم">عم</option>
                    <option value="خال">خال</option>
                    <option value="ابن عم">ابن عم</option>
                    <option value="ابن خال">ابن خال</option>
                    <option value="أقارب">أقارب</option>
                    <option value="غير ذلك">غير ذلك</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="guardianEducation" class="required">المستوى التعليمي للوصي</label>
                <select id="guardianEducation" name="guardianEducation" required>
                    <option value="">اختر المستوى التعليمي</option>
                    <option value="أمي">أمي</option>
                    <option value="ابتدائي">ابتدائي</option>
                    <option value="إعدادي">إعدادي</option>
                    <option value="ثانوي">ثانوي</option>
                    <option value="دبلوم">دبلوم</option>
                    <option value="بكالوريوس">بكالوريوس</option>
                    <option value="دراسات عليا">دراسات عليا</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="guardianStatus" class="required">الحالة الاجتماعية</label>
                <select id="guardianStatus" name="guardianStatus" required>
                    <option value="">اختر الحالة الاجتماعية</option>
                    <option value="أعزب">أعزب</option>
                    <option value="متزوج">متزوج</option>
                    <option value="مطلق">مطلق</option>
                    <option value="أرمل">أرمل</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="guardianHealth" class="required">الحالة الصحية</label>
                <select id="guardianHealth" name="guardianHealth" required>
                    <option value="">اختر الحالة الصحية</option>
                    <option value="معافى">معافى</option>
                    <option value="مريض">مريض</option>
                    <option value="ذو إعاقة">ذو إعاقة</option>
                    <option value="مصاب حرب">مصاب حرب</option>
                </select>
            </div>
            
            <div id="guardianHealthDetailsContainer" class="hidden">
                <div class="form-group health-details">
                    <label for="guardianHealthDetails">تفاصيل الحالة الصحية</label>
                    <textarea id="guardianHealthDetails" name="guardianHealthDetails" placeholder="الرجاء توضيح طبيعة المرض/الإعاقة/الإصابة"></textarea>
                </div>
                
                <div class="form-group health-details">
                    <label for="guardianHealthNeeds">الاحتياجات الصحية</label>
                    <textarea id="guardianHealthNeeds" name="guardianHealthNeeds" placeholder="الرجاء ذكر الاحتياجات الصحية إن وجدت"></textarea>
                </div>
            </div>
            
            <div class="form-group">
                <label for="guardianJob" class="required">طبيعة العمل</label>
                <select id="guardianJob" name="guardianJob" required>
                    <option value="">اختر طبيعة العمل</option>
                    <option value="موظف حكومي">موظف حكومي</option>
                    <option value="قطاع خاص">قطاع خاص</option>
                    <option value="عامل يومية">عامل يومية</option>
                    <option value="عمل حر">عمل حر</option>
                    <option value="لا يعمل">لا يعمل</option>
                    <option value="متقاعد">متقاعد</option>
                    <option value="غير ذلك">غير ذلك</option>
                </select>
            </div>
            
            <div id="guardianJobOtherContainer" class="hidden">
                <div class="form-group">
                    <label for="guardianJobOther" class="required">الرجاء توضيح طبيعة العمل</label>
                    <input type="text" id="guardianJobOther" name="guardianJobOther">
                </div>
            </div>
            
            <div class="form-group">
                <label class="required">هل الوصاية موثقة قانوناً؟</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="legalGuardianYes" name="legalGuardian" value="نعم" required>
                        <label for="legalGuardianYes">نعم</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="legalGuardianNo" name="legalGuardian" value="لا">
                        <label for="legalGuardianNo">لا</label>
                    </div>
                </div>
            </div>
            
            <div id="legalGuardianDetails" class="hidden">
                <div class="form-group">
                    <label for="guardianshipDocument" class="required">حجة الوصاية/الولاية</label>
                    <input type="file" id="guardianshipDocument" name="guardianshipDocument" accept=".pdf,.jpg,.jpeg,.png" required>
                    <div id="guardianshipDocumentPreview" class="file-preview"></div>
                </div>
                
                <div class="form-group">
                    <label for="guardianshipNumber" class="required">رقم حجة الوصاية</label>
                    <input type="text" id="guardianshipNumber" name="guardianshipNumber" required>
                </div>
                
                <div class="form-group">
                    <label for="guardianshipDate" class="required">تاريخ حجة الوصاية</label>
                    <input type="date" id="guardianshipDate" name="guardianshipDate" required>
                </div>
                
                <div class="form-group">
                    <label for="guardianshipCourt" class="required">المحكمة المصدقة</label>
                    <input type="text" id="guardianshipCourt" name="guardianshipCourt" required>
                </div>
            </div>
        </div>
        
        <!-- بيانات الأب المتوفي -->
        <div class="form-section">
            <h2>بيانات الأب المتوفي (إلزامي)</h2>
            
            <div class="form-group">
                <label for="fatherName" class="required">اسم الأب الرباعي</label>
                <input type="text" id="fatherName" name="fatherName" required>
            </div>
            
            <div class="form-group">
                <label for="fatherId" class="required">رقم هوية الأب</label>
                <input type="text" id="fatherId" name="fatherId" required>
            </div>
            
            <div class="form-group">
                <label for="fatherIdPhoto" class="required">صورة هوية الأب</label>
                <input type="file" id="fatherIdPhoto" name="fatherIdPhoto" accept="image/*" required>
                <div id="fatherIdPhotoPreview" class="file-preview"></div>
            </div>
            
            <div class="form-group">
                <label for="fatherDob" class="required">تاريخ ميلاد الأب</label>
                <input type="date" id="fatherDob" name="fatherDob" required>
            </div>
            
            <div class="form-group">
                <label for="fatherDeathDate" class="required">تاريخ الوفاة</label>
                <input type="date" id="fatherDeathDate" name="fatherDeathDate" required>
            </div>
            
            <div class="form-group">
                <label for="fatherDeathCertificate" class="required">شهادة وفاة الأب</label>
                <input type="file" id="fatherDeathCertificate" name="fatherDeathCertificate" accept=".pdf,.jpg,.jpeg,.png" required>
                <div id="fatherDeathCertificatePreview" class="file-preview"></div>
            </div>
            
            <div class="form-group">
                <label for="fatherEducation">المستوى التعليمي</label>
                <select id="fatherEducation" name="fatherEducation">
                    <option value="">اختر المستوى التعليمي</option>
                    <option value="أمي">أمي</option>
                    <option value="ابتدائي">ابتدائي</option>
                    <option value="إعدادي">إعدادي</option>
                    <option value="ثانوي">ثانوي</option>
                    <option value="دبلوم">دبلوم</option>
                    <option value="بكالوريوس">بكالوريوس</option>
                    <option value="دراسات عليا">دراسات عليا</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="fatherJob">طبيعة العمل قبل الوفاة</label>
                <select id="fatherJob" name="fatherJob">
                    <option value="">اختر طبيعة العمل</option>
                    <option value="موظف حكومي">موظف حكومي</option>
                    <option value="قطاع خاص">قطاع خاص</option>
                    <option value="عامل يومية">عامل يومية</option>
                    <option value="عمل حر">عمل حر</option>
                    <option value="لا يعمل">لا يعمل</option>
                    <option value="متقاعد">متقاعد</option>
                    <option value="غير ذلك">غير ذلك</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="fatherHealth">الحالة الصحية قبل الوفاة</label>
                <select id="fatherHealth" name="fatherHealth">
                    <option value="">اختر الحالة الصحية</option>
                    <option value="معافى">معافى</option>
                    <option value="مريض">مريض</option>
                    <option value="ذو إعاقة">ذو إعاقة</option>
                    <option value="مصاب حرب">مصاب حرب</option>
                </select>
            </div>
            
            <div id="fatherHealthDetailsContainer" class="hidden">
                <div class="form-group health-details">
                    <label for="fatherHealthDetails">تفاصيل الحالة الصحية</label>
                    <textarea id="fatherHealthDetails" name="fatherHealthDetails" placeholder="الرجاء توضيح طبيعة المرض/الإعاقة/الإصابة"></textarea>
                </div>
            </div>
            
            <div class="form-group">
                <label for="fatherDeathReason">سبب الوفاة</label>
                <select id="fatherDeathReason" name="fatherDeathReason">
                    <option value="">اختر سبب الوفاة</option>
                    <option value="مرض">مرض</option>
                    <option value="حادث">حادث</option>
                    <option value="شهادة">شهادة</option>
                    <option value="غير معروف">غير معروف</option>
                    <option value="أخرى">أخرى</option>
                </select>
            </div>
        </div>
        
        <!-- بيانات الأم -->
        <div class="form-section">
            <h2>بيانات الأم (إن كانت على قيد الحياة)</h2>
            
            <div class="form-group">
                <label for="motherName">اسم الأم الرباعي</label>
                <input type="text" id="motherName" name="motherName">
            </div>
            
            <div class="form-group">
                <label for="motherId">رقم هوية الأم</label>
                <input type="text" id="motherId" name="motherId">
            </div>
            
            <div class="form-group">
                <label for="motherIdPhoto">صورة هوية الأم</label>
                <input type="file" id="motherIdPhoto" name="motherIdPhoto" accept="image/*">
                <div id="motherIdPhotoPreview" class="file-preview"></div>
            </div>
            
            <div class="form-group">
                <label for="motherDob">تاريخ ميلاد الأم</label>
                <input type="date" id="motherDob" name="motherDob">
            </div>
            
            <div class="form-group">
                <label for="motherStatus">الحالة الاجتماعية</label>
                <select id="motherStatus" name="motherStatus">
                    <option value="">اختر الحالة الاجتماعية</option>
                    <option value="متزوجة">متزوجة</option>
                    <option value="مطلقة">مطلقة</option>
                    <option value="أرملة">أرملة</option>
                    <option value="منفصلة">منفصلة</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="motherEducation">المستوى التعليمي</label>
                <select id="motherEducation" name="motherEducation">
                    <option value="">اختر المستوى التعليمي</option>
                    <option value="أمية">أمية</option>
                    <option value="ابتدائي">ابتدائي</option>
                    <option value="إعدادي">إعدادي</option>
                    <option value="ثانوي">ثانوي</option>
                    <option value="دبلوم">دبلوم</option>
                    <option value="بكالوريوس">بكالوريوس</option>
                    <option value="دراسات عليا">دراسات عليا</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="motherHealth">الحالة الصحية</label>
                <select id="motherHealth" name="motherHealth">
                    <option value="">اختر الحالة الصحية</option>
                    <option value="معافاة">معافاة</option>
                    <option value="مريضة">مريضة</option>
                    <option value="ذات إعاقة">ذات إعاقة</option>
                    <option value="غير ذلك">غير ذلك</option>
                </select>
            </div>
            
            <div id="motherHealthDetailsContainer" class="hidden">
                <div class="form-group health-details">
                    <label for="motherHealthDetails">تفاصيل الحالة الصحية</label>
                    <textarea id="motherHealthDetails" name="motherHealthDetails" placeholder="الرجاء توضيح طبيعة المرض/الإعاقة"></textarea>
                </div>
            </div>
            
            <div class="form-group">
                <label for="motherJob">طبيعة العمل</label>
                <select id="motherJob" name="motherJob">
                    <option value="">اختر طبيعة العمل</option>
                    <option value="موظفة حكومية">موظفة حكومية</option>
                    <option value="قطاع خاص">قطاع خاص</option>
                    <option value="عمل حر">عمل حر</option>
                    <option value="لا تعمل">لا تعمل</option>
                    <option value="ربة منزل">ربة منزل</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="motherDeathCertificate">شهادة وفاة الأم (إن كانت متوفية)</label>
                <input type="file" id="motherDeathCertificate" name="motherDeathCertificate" accept=".pdf,.jpg,.jpeg,.png">
                <div id="motherDeathCertificatePreview" class="file-preview"></div>
            </div>
        </div>
        
        <!-- بيانات الأيتام -->
        <div class="form-section">
            <h2>بيانات الأيتام (إلزامي)</h2>
            <p>يرجى إدخال بيانات جميع الأيتام في الأسرة</p>
            
            <div class="form-group">
                <label for="orphansCount" class="required">عدد الأيتام</label>
                <input type="number" id="orphansCount" name="orphansCount" min="1" required>
            </div>
            
            <div id="orphansContainer">
                <!-- سيتم إضافة الأيتام هنا ديناميكياً -->
            </div>
            
            <button type="button" id="addOrphanBtn" class="add-member-btn">إضافة يتيم جديد</button>
        </div>
        
        <!-- البيانات الاقتصادية -->
        <div class="form-section">
            <h2>البيانات الاقتصادية للأسرة</h2>
            
            <div class="form-group">
                <label for="incomeSource">مصدر الدخل الأساسي للأسرة</label>
                <select id="incomeSource" name="incomeSource">
                    <option value="">اختر مصدر الدخل</option>
                    <option value="راتب الوصي">راتب الوصي</option>
                    <option value="راتب الأم">راتب الأم</option>
                    <option value="مساعدات إنسانية">مساعدات إنسانية</option>
                    <option value="راتب تقاعد">راتب تقاعد</option>
                    <option value="كفالات الأيتام">كفالات الأيتام</option>
                    <option value="مساعدات شؤون اجتماعية">مساعدات شؤون اجتماعية</option>
                    <option value="راتب جريح">راتب جريح</option>
                    <option value="راتب شهيد">راتب شهيد</option>
                    <option value="غير ذلك">غير ذلك</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="otherIncomeSources">مصادر دخل أخرى (إن وجدت)</label>
                <textarea id="otherIncomeSources" name="otherIncomeSources" placeholder="الرجاء ذكر مصادر الدخل الأخرى للأسرة"></textarea>
            </div>
            
            <div class="form-group">
                <label for="monthlyIncome">معدل الدخل الشهري بالشيكل</label>
                <select id="monthlyIncome" name="monthlyIncome">
                    <option value="">اختر فئة الدخل</option>
                    <option value="أقل من 1000 شيكل">أقل من 1000 شيكل</option>
                    <option value="1000-1500 شيكل">1000-1500 شيكل</option>
                    <option value="1500-2000 شيكل">1500-2000 شيكل</option>
                    <option value="2000-3000 شيكل">2000-3000 شيكل</option>
                    <option value="3000-5000 شيكل">3000-5000 شيكل</option>
                    <option value="أكثر من 5000 شيكل">أكثر من 5000 شيكل</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>هل تتلقى الأسرة مساعدات من مؤسسات أخرى؟</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="otherAidYes" name="otherAid" value="نعم">
                        <label for="otherAidYes">نعم</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="otherAidNo" name="otherAid" value="لا">
                        <label for="otherAidNo">لا</label>
                    </div>
                </div>
            </div>
            
            <div id="otherAidDetails" class="hidden">
                <div class="form-group">
                    <label for="aidOrganizations">أسماء المؤسسات المانحة</label>
                    <textarea id="aidOrganizations" name="aidOrganizations" placeholder="الرجاء ذكر أسماء المؤسسات التي تقدم المساعدات للأسرة"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="aidType">نوع المساعدات المقدمة</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="aidFinancial" name="aidType" value="مالية">
                            <label for="aidFinancial">مالية</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="aidFood" name="aidType" value="غذائية">
                            <label for="aidFood">غذائية</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="aidEducation" name="aidType" value="تعليمية">
                            <label for="aidEducation">تعليمية</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="aidHealth" name="aidType" value="طبية">
                            <label for="aidHealth">طبية</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="aidOther" name="aidType" value="أخرى">
                            <label for="aidOther">أخرى</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="aidAmount">قيمة المساعدات الشهرية (إن كانت مالية)</label>
                    <input type="text" id="aidAmount" name="aidAmount" placeholder="بالشيكل">
                </div>
            </div>
            
            <div class="form-group">
                <label>يكفي الدخل لتغطية الاحتياجات الأساسية؟</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="incomeEnoughYes" name="incomeEnough" value="نعم">
                        <label for="incomeEnoughYes">نعم</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="incomeEnoughNo" name="incomeEnough" value="لا">
                        <label for="incomeEnoughNo">لا</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="incomeEnoughPartially" name="incomeEnough" value="جزئياً">
                        <label for="incomeEnoughPartially">جزئياً</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="urgentNeeds">الاحتياجات الاقتصادية الملحة للأسرة</label>
                <textarea id="urgentNeeds" name="urgentNeeds" placeholder="الرجاء ذكر أبرز الاحتياجات الملحة للأسرة"></textarea>
            </div>
        </div>
        
        <!-- بيانات الدفع الإلكتروني -->
        <div class="form-section">
            <h2>بيانات الدفع الإلكتروني</h2>
            
            <div class="form-group">
                <label for="paymentMethod" class="required">طريقة الدفع المفضلة</label>
                <select id="paymentMethod" name="paymentMethod" required>
                    <option value="">اختر طريقة الدفع</option>
                    <option value="محفظة بال باي">محفظة بال باي</option>
                    <option value="حساب بنك فلسطين">حساب بنك فلسطين</option>
                </select>
            </div>
            
            <div id="palpayDetails" class="hidden">
                <div class="form-group">
                    <label for="palpayName" class="required">اسم صاحب المحفظة</label>
                    <input type="text" id="palpayName" name="palpayName" required>
                </div>
                
                <div class="form-group">
                    <label for="palpayPhone" class="required">رقم الجوال المربوط بالمحفظة</label>
                    <input type="tel" id="palpayPhone" name="palpayPhone" required>
                </div>
            </div>
            
            <div id="bankDetails" class="hidden">
                <div class="form-group">
                    <label for="bankAccountName" class="required">اسم صاحب الحساب</label>
                    <input type="text" id="bankAccountName" name="bankAccountName" required>
                </div>
                
                <div class="form-group">
                    <label for="bankAccountNumber" class="required">رقم الحساب</label>
                    <input type="text" id="bankAccountNumber" name="bankAccountNumber" required>
                </div>
                
                <div class="form-group">
                    <label for="bankBranch" class="required">اسم الفرع</label>
                    <input type="text" id="bankBranch" name="bankBranch" required>
                </div>
            </div>
        </div>
        
        <!-- المرفقات -->
        <div class="form-section">
            <h2>المرفقات</h2>
            
            <div class="form-group">
                <label for="alimonyDocument">حجة الإعالة (إن وجدت)</label>
                <input type="file" id="alimonyDocument" name="alimonyDocument" accept=".pdf,.jpg,.jpeg,.png">
                <div id="alimonyDocumentPreview" class="file-preview"></div>
            </div>
            
            <div class="form-group">
                <label for="custodyDocument">حجة الحضانة (إن وجدت)</label>
                <input type="file" id="custodyDocument" name="custodyDocument" accept=".pdf,.jpg,.jpeg,.png">
                <div id="custodyDocumentPreview" class="file-preview"></div>
            </div>
            
            <div class="form-group">
                <label for="otherDocuments">مرفقات أخرى</label>
                <input type="file" id="otherDocuments" name="otherDocuments" accept=".pdf,.jpg,.jpeg,.png" multiple>
                <div id="otherDocumentsPreview" class="file-preview"></div>
            </div>
        </div>
        
        <button type="submit" style="width: 100%; font-size: 18px; padding: 15px;">تسجيل البيانات</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('orphanFamilyForm');
            
            // معاينة الملفات المرفوعة
            function setupFilePreview(inputId, previewId) {
                const input = document.getElementById(inputId);
                const preview = document.getElementById(previewId);
                
                input.addEventListener('change', function() {
                    preview.innerHTML = '';
                    if (this.files && this.files[0]) {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            if (input.accept.includes('image')) {
                                const img = document.createElement('img');
                                img.src = e.target.result;
                                preview.appendChild(img);
                            } else {
                                const icon = document.createElement('div');
                                icon.textContent = '📄 ' + input.files[0].name;
                                preview.appendChild(icon);
                            }
                        }
                        
                        reader.readAsDataURL(this.files[0]);
                    }
                });
            }
            
            // إعداد معاينة الملفات
            setupFilePreview('guardianIdPhoto', 'guardianIdPhotoPreview');
            setupFilePreview('guardianshipDocument', 'guardianshipDocumentPreview');
            setupFilePreview('motherIdPhoto', 'motherIdPhotoPreview');
            setupFilePreview('fatherIdPhoto', 'fatherIdPhotoPreview');
            setupFilePreview('fatherDeathCertificate', 'fatherDeathCertificatePreview');
            setupFilePreview('motherDeathCertificate', 'motherDeathCertificatePreview');
            setupFilePreview('alimonyDocument', 'alimonyDocumentPreview');
            setupFilePreview('custodyDocument', 'custodyDocumentPreview');
            
            // تفاصيل الحالة الصحية للوصي
            const guardianHealthSelect = document.getElementById('guardianHealth');
            const guardianHealthDetailsContainer = document.getElementById('guardianHealthDetailsContainer');
            
            guardianHealthSelect.addEventListener('change', function() {
                if (this.value === 'مريض' || this.value === 'ذو إعاقة' || this.value === 'مصاب حرب') {
                    guardianHealthDetailsContainer.classList.remove('hidden');
                } else {
                    guardianHealthDetailsContainer.classList.add('hidden');
                }
            });
            
            // تفاصيل الحالة الصحية للأب
            const fatherHealthSelect = document.getElementById('fatherHealth');
            const fatherHealthDetailsContainer = document.getElementById('fatherHealthDetailsContainer');
            
            fatherHealthSelect.addEventListener('change', function() {
                if (this.value === 'مريض' || this.value === 'ذو إعاقة' || this.value === 'مصاب حرب') {
                    fatherHealthDetailsContainer.classList.remove('hidden');
                } else {
                    fatherHealthDetailsContainer.classList.add('hidden');
                }
            });
            
            // تفاصيل الحالة الصحية للأم
            const motherHealthSelect = document.getElementById('motherHealth');
            const motherHealthDetailsContainer = document.getElementById('motherHealthDetailsContainer');
            
            motherHealthSelect.addEventListener('change', function() {
                if (this.value === 'مريضة' || this.value === 'ذات إعاقة') {
                    motherHealthDetailsContainer.classList.remove('hidden');
                } else {
                    motherHealthDetailsContainer.classList.add('hidden');
                }
            });
            
            // تفاصيل طبيعة العمل "غير ذلك"
            const guardianJobSelect = document.getElementById('guardianJob');
            const guardianJobOtherContainer = document.getElementById('guardianJobOtherContainer');
            
            guardianJobSelect.addEventListener('change', function() {
                if (this.value === 'غير ذلك') {
                    guardianJobOtherContainer.classList.remove('hidden');
                } else {
                    guardianJobOtherContainer.classList.add('hidden');
                }
            });
            
            // تفاصيل الوصاية القانونية
            const legalGuardianRadios = document.querySelectorAll('input[name="legalGuardian"]');
            const legalGuardianDetails = document.getElementById('legalGuardianDetails');
            
            legalGuardianRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'نعم' && this.checked) {
                        legalGuardianDetails.classList.remove('hidden');
                    } else {
                        legalGuardianDetails.classList.add('hidden');
                    }
                });
            });
            
            // تفاصيل المساعدات من مؤسسات أخرى
            const otherAidRadios = document.querySelectorAll('input[name="otherAid"]');
            const otherAidDetails = document.getElementById('otherAidDetails');
            
            otherAidRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'نعم' && this.checked) {
                        otherAidDetails.classList.remove('hidden');
                    } else {
                        otherAidDetails.classList.add('hidden');
                    }
                });
            });
            
            // تفاصيل طريقة الدفع
            const paymentMethodSelect = document.getElementById('paymentMethod');
            const palpayDetails = document.getElementById('palpayDetails');
            const bankDetails = document.getElementById('bankDetails');
            
            paymentMethodSelect.addEventListener('change', function() {
                palpayDetails.classList.add('hidden');
                bankDetails.classList.add('hidden');
                
                if (this.value === 'محفظة بال باي') {
                    palpayDetails.classList.remove('hidden');
                } else if (this.value === 'حساب بنك فلسطين') {
                    bankDetails.classList.remove('hidden');
                }
            });
            
            // إضافة الأيتام
            const addOrphanBtn = document.getElementById('addOrphanBtn');
            const orphansContainer = document.getElementById('orphansContainer');
            
            addOrphanBtn.addEventListener('click', function() {
                const orphanCount = document.querySelectorAll('.orphan-member').length + 1;
                
                const orphanDiv = document.createElement('div');
                orphanDiv.className = 'orphan-member';
                orphanDiv.innerHTML = `
                    <h3>اليتيم #${orphanCount}</h3>
                    
                    <div class="form-group">
                        <label for="orphanType${orphanCount}" class="required">حالة اليتم</label>
                        <select id="orphanType${orphanCount}" name="orphanType${orphanCount}" required>
                            <option value="">اختر حالة اليتم</option>
                            <option value="يتيم الأب">يتيم الأب</option>
                            <option value="يتيم الأم">يتيم الأم</option>
                            <option value="يتيم الوالدين">يتيم الوالدين</option>
                            <option value="ناجي وحيد">ناجي وحيد</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanName${orphanCount}" class="required">الاسم الرباعي</label>
                        <input type="text" id="orphanName${orphanCount}" name="orphanName${orphanCount}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanId${orphanCount}">رقم الهوية</label>
                        <input type="text" id="orphanId${orphanCount}" name="orphanId${orphanCount}">
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanDob${orphanCount}" class="required">تاريخ الميلاد</label>
                        <input type="date" id="orphanDob${orphanCount}" name="orphanDob${orphanCount}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanGender${orphanCount}" class="required">الجنس</label>
                        <select id="orphanGender${orphanCount}" name="orphanGender${orphanCount}" required>
                            <option value="">اختر الجنس</option>
                            <option value="ذكر">ذكر</option>
                            <option value="انثى">انثى</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanPhoto${orphanCount}" class="required">صورة شخصية</label>
                        <input type="file" id="orphanPhoto${orphanCount}" name="orphanPhoto${orphanCount}" accept="image/*" required>
                        <div id="orphanPhoto${orphanCount}Preview" class="file-preview"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanBirthCertificate${orphanCount}" class="required">شهادة ميلاد</label>
                        <input type="file" id="orphanBirthCertificate${orphanCount}" name="orphanBirthCertificate${orphanCount}" accept=".pdf,.jpg,.jpeg,.png" required>
                        <div id="orphanBirthCertificate${orphanCount}Preview" class="file-preview"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanHealth${orphanCount}" class="required">الحالة الصحية</label>
                        <select id="orphanHealth${orphanCount}" name="orphanHealth${orphanCount}" required>
                            <option value="">اختر الحالة الصحية</option>
                            <option value="معافى">معافى</option>
                            <option value="مريض">مريض</option>
                            <option value="ذو إعاقة">ذو إعاقة</option>
                            <option value="مصاب حرب">مصاب حرب</option>
                            <option value="غير ذلك">غير ذلك</option>
                        </select>
                    </div>
                    
                    <div id="orphanHealthDetails${orphanCount}" class="hidden">
                        <div class="form-group health-details">
                            <label for="orphanHealthDetailsText${orphanCount}">تفاصيل الحالة الصحية</label>
                            <textarea id="orphanHealthDetailsText${orphanCount}" name="orphanHealthDetailsText${orphanCount}" placeholder="الرجاء توضيح طبيعة المرض/الإعاقة/الإصابة"></textarea>
                        </div>
                        
                        <div class="form-group health-details">
                            <label for="orphanMedicalReport${orphanCount}">تقرير طبي يثبت الحالة الصحية</label>
                            <input type="file" id="orphanMedicalReport${orphanCount}" name="orphanMedicalReport${orphanCount}" accept=".pdf,.jpg,.jpeg,.png">
                            <div id="orphanMedicalReport${orphanCount}Preview" class="file-preview"></div>
                        </div>
                        
                        <div class="form-group health-details">
                            <label for="orphanHealthNeeds${orphanCount}">الاحتياجات الصحية</label>
                            <textarea id="orphanHealthNeeds${orphanCount}" name="orphanHealthNeeds${orphanCount}" placeholder="الرجاء ذكر الاحتياجات الصحية إن وجدت"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanEducation${orphanCount}" class="required">المستوى التعليمي</label>
                        <select id="orphanEducation${orphanCount}" name="orphanEducation${orphanCount}" required>
                            <option value="">اختر المستوى التعليمي</option>
                            <option value="تمهيدي">تمهيدي</option>
                            <option value="ابتدائي">ابتدائي</option>
                            <option value="اعدادي">اعدادي</option>
                            <option value="ثانوي">ثانوي</option>
                            <option value="جامعي">جامعي</option>
                            <option value="غير ملتحق">غير ملتحق</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="orphanSchool${orphanCount}">اسم المدرسة/المؤسسة التعليمية</label>
                        <input type="text" id="orphanSchool${orphanCount}" name="orphanSchool${orphanCount}">
                    </div>
                    
                    <button type="button" class="remove-orphan-btn">إزالة هذا اليتيم</button>
                `;
                
                orphansContainer.appendChild(orphanDiv);
                
                // إعداد معاينة الملفات للطفل
                setupFilePreview(`orphanPhoto${orphanCount}`, `orphanPhoto${orphanCount}Preview`);
                setupFilePreview(`orphanBirthCertificate${orphanCount}`, `orphanBirthCertificate${orphanCount}Preview`);
                setupFilePreview(`orphanMedicalReport${orphanCount}`, `orphanMedicalReport${orphanCount}Preview`);
                
                // تفاصيل الحالة الصحية للطفل
                const orphanHealthSelect = orphanDiv.querySelector(`#orphanHealth${orphanCount}`);
                const orphanHealthDetails = orphanDiv.querySelector(`#orphanHealthDetails${orphanCount}`);
                
                orphanHealthSelect.addEventListener('change', function() {
                    if (this.value === 'مريض' || this.value === 'ذو إعاقة' || this.value === 'مصاب حرب' || this.value === 'غير ذلك') {
                        orphanHealthDetails.classList.remove('hidden');
                    } else {
                        orphanHealthDetails.classList.add('hidden');
                    }
                });
                
                // إضافة حدث لإزالة اليتيم
                const removeBtn = orphanDiv.querySelector('.remove-orphan-btn');
                removeBtn.addEventListener('click', function() {
                    orphansContainer.removeChild(orphanDiv);
                    updateOrphanNumbers();
                });
            });
            
            function updateOrphanNumbers() {
                const orphans = document.querySelectorAll('.orphan-member');
                orphans.forEach((orphan, index) => {
                    const header = orphan.querySelector('h3');
                    header.textContent = `اليتيم #${index + 1}`;
                });
            }
            
            // إرسال النموذج
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // التحقق من الحقول الإلزامية
                const requiredFields = form.querySelectorAll('[required]');
                let isValid = true;
                
                requiredFields.forEach(field => {
                    if (!field.value) {
                        field.style.borderColor = 'red';
                        isValid = false;
                    } else {
                        field.style.borderColor = '';
                    }
                });
                
                if (!isValid) {
                    alert('الرجاء تعبئة جميع الحقول الإلزامية المميزة بعلامة *');
                    return;
                }
                
                // هنا يمكنك إضافة كود لإرسال البيانات إلى الخادم
                alert('تم إرسال النموذج بنجاح! سيتم مراجعة البيانات من قبل الفريق المختص.');
                form.reset();
                
                // مسح معاينات الملفات
                document.querySelectorAll('.file-preview').forEach(preview => {
                    preview.innerHTML = '';
                });
            });
        });
    </script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('form');
  const messageDiv = document.createElement('div');
  messageDiv.id = 'message';
  messageDiv.style.marginTop = '20px';
  form.appendChild(messageDiv);

  form.addEventListener('submit', async function(event) {
    event.preventDefault();

    const formData = new FormData(form);
    const dataObject = {};
    formData.forEach((value, key) => {
      dataObject[key] = value;
    });

    try {
      const response = await fetch("https://al-amal-institute-for-orphans.onrender.com/api/v2/tables/mk26ne77vwwj057/records", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "xc-token": "4-fQcdXWNXTQD-x2vDyLxN8HEimor6fJ0GCp-Nk3"
        },
        body: JSON.stringify({ data: dataObject })
      });

      if (response.ok) {
        messageDiv.textContent = "✅ تم إرسال البيانات بنجاح.";
        messageDiv.style.color = "green";
        form.reset();
      } else {
        const errorText = await response.text();
        messageDiv.textContent = "❌ حدث خطأ: " + errorText;
        messageDiv.style.color = "red";
      }
    } catch (error) {
      messageDiv.textContent = "⚠️ فشل الاتصال بالخادم.";
      messageDiv.style.color = "red";
    }
  });
});
</script>
</body>

</html>